# [Platinum III] 콜라 줍기 - 25623 

[문제 링크](https://www.acmicpc.net/problem/25623) 

### 성능 요약

메모리: 512088 KB, 시간: 780 ms

### 분류

다이나믹 프로그래밍

### 제출 일자

2024년 8월 30일 00:57:28

### 문제 설명

<p>키파는 카루나와 정말 친합니다. 키파와 카루나는 <em>N</em> × <em>N</em>의 격자 위에서 살고 있고, 이 격자칸을 <strong>상하좌우로</strong> 이동할 수 있습니다. 격자 위 <em>r</em>번째 행 <em>c</em>번째 열의 격자칸을 (<em>r</em>, <em>c</em>)로 표기할 때, 키파네 집은 (1, 1)에 있고 카루나의 집은 (<em>N</em>, <em>N</em>)에 있습니다.</p>

<p>하지만 이렇게 친한 둘이어도 서로 절대로 양보할 수 없는 것이 있었으니, 그것은 바로 선호하는 콜라 취향이었습니다! 키파는 코카콜라 제로를 좋아하고 카루나는 펩시 제로를 좋아합니다.</p>

<p>어느 날 격자 위에 코카콜라 제로와 펩시 제로가 나타났다는 소식을 들었습니다! 키파와 카루나는 자신의 집에서 통화로 긴 시간 논의한 끝에 다음과 같이 격자칸 위에 있는 콜라들을 줍기로 했습니다.</p>

<ul>
	<li>키파는 코카콜라 제로만, 카루나는 펩시 제로만 주울 것입니다.</li>
	<li>키파와 카루나는 둘 다 서로의 집을 <strong>최단 거리로 한 번</strong> 이동할 체력만 있고, 그런 다음엔 반드시 서로의 집에서 쉬어야 합니다.
	<ul>
		<li>즉, 서로의 집 사이 최단 거리는 2(<em>N</em> − 1)번 이동하는 것이므로, 둘 모두 자신의 집에서 정확히 그만큼을 이동하여 키파는 카루나의 집에, 카루나는 키파의 집에 도착해야 합니다.</li>
		<li>코카콜라 제로와 펩시 제로는 이름에 걸맞게 무게가 0이기 때문에 체력에 영향을 주지 않습니다.</li>
	</ul>
	</li>
	<li>둘 모두 코로나19 상황이 걱정되었기 때문에, 서로의 경로가 서로의 집을 제외하고 <strong>격자칸을 공유하면 안 됩니다</strong>. “이동 중 만나면 안 된다”보다 훨씬 강한 조건임에 유의하세요.</li>
	<li>서로 어쨌든 콜라가 많으면 좋은 것에는 합의했기 때문에, 키파와 카루나가 주운 콜라의 <strong>종류에 상관없이 개수의 합을 최대화</strong>하기로 합의했습니다.</li>
</ul>

<p>여러분은 비밀리에 지도를 입수했습니다. 키파와 카루나를 도와주세요!</p>

### 입력 

 <p>첫째 줄에 격자의 크기 <em>N</em>이 주어집니다. (2 ≤ <em>N</em> ≤ 400)</p>

<p>둘째 줄부터 <em>N</em>개의 줄에 각 격자칸에 있는 코카콜라 제로의 개수가 주어집니다.</p>

<p>구체적으로, (<em>i</em> + 1)번째 줄에 각 격자칸에 있는 코카콜라 제로의 개수 <em>c</em><sub><em>i</em>,1</sub>, <em>c</em><sub><em>i</em>,2</sub>, ⋯, <em>c</em><sub><em>i</em>,<em>N</em></sub>이 공백을 사이에 두고 주어집니다. (1 ≤ <em>i</em> ≤ <em>N</em>, 모든 1 ≤ <em>i</em>, <em>j</em> ≤ <em>N</em>에 대해 0 ≤ <em>c</em><sub><em>i</em>,<em>j</em></sub> ≤ 10<sup>9</sup>) 이는 모든 1 ≤ <em>i</em>, <em>j</em> ≤ <em>N</em>에 대해, (<em>i</em>, <em>j</em>)에 있는 코카콜라 제로의 개수가 <em>c</em><sub><em>i</em>,<em>j</em></sub>임을 의미합니다.</p>

<p>(<em>N</em> + 2)째 줄부터 <em>N</em>개의 줄에 각 격자칸에 있는 펩시 제로의 개수가 비슷한 형식으로 주어집니다.</p>

<p>구체적으로, (<em>i</em> + <em>N</em> + 1)번째 줄에 각 격자칸에 있는 펩시 제로의 개수 <em>p</em><sub><em>i</em>,1</sub>, <em>p</em><sub><em>i</em>,2</sub>, ⋯, <em>p</em><sub><em>i</em>,<em>N</em></sub>이 공백을 사이에 두고 주어집니다. (1 ≤ <em>i</em> ≤ <em>N</em>, 모든 1 ≤ <em>i</em>, <em>j</em> ≤ <em>N</em>에 대해 0 ≤ <em>p</em><sub><em>i</em>,<em>j</em></sub> ≤ 10<sup>9</sup>) 이는 모든 1 ≤ <em>i</em>, <em>j</em> ≤ <em>N</em>에 대해, (<em>i</em>, <em>j</em>)에 있는 펩시 제로의 개수가 <em>p</em><sub><em>i</em>,<em>j</em></sub>임을 의미합니다.</p>

<p>키파네와 카루나네 집에는 콜라가 없습니다. 즉, <em>c</em><sub>1,1</sub> = <em>c</em><sub><em>N</em>,<em>N</em></sub> = <em>p</em><sub>1,1</sub> = <em>p</em><sub><em>N</em>,<em>N</em></sub> = 0인 입력만 주어집니다.</p>

### 출력 

 <p>첫째 줄에 키파와 카루나가 조건을 만족하며 주울 수 있는 콜라의 개수의 합의 최댓값을 출력합니다.</p>

