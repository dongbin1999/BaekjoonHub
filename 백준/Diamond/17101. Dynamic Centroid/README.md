# [Diamond V] Dynamic Centroid - 17101 

[문제 링크](https://www.acmicpc.net/problem/17101) 

### 성능 요약

메모리: 112212 KB, 시간: 420 ms

### 분류

자료 구조, 오일러 경로 테크닉, 세그먼트 트리, 트리

### 제출 일자

2025년 4월 11일 17:00:42

### 문제 설명

<p>크기 N의 트리에서, 센트로이드란 정점을 기준으로 나누어지는 서브트리의 크기가 모두 N/2 이하인 정점을 뜻한다. 어떠한 트리라도 센트로이드가 존재함이 알려져있다.</p>

<p>1번 정점이 트리의 루트이며, i번 정점의 부모는 p<sub>i</sub>이고, p<sub>i</sub><i이다.</p>

<p>1부터 N까지의 k에 대해, 1번 정점부터 k번 정점까지만 사용한 트리의 센트로이드를 구하여라.</p>

### 입력 

 <p>첫 줄에 N이 주어진다. (2 ≤ N ≤ 5×10<sup>5</sup>)</p>

<p>둘째 줄에 i = 2부터 i = N까지, p<sub>i</sub>가 공백으로 구분되어 주어진다. (1 ≤ p<sub>i </sub>< i)</p>

### 출력 

 <p>1부터 N까지의 k에 대해, 1번 정점부터 k번 정점까지만 사용한 트리의 센트로이드의 번호를 공백으로 구분하여 순서대로 출력한다. 여러가지의 답이 존재한다면 그 중 가장 작은 것을 출력한다.</p>

